<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Isaack Muchoki - Developer Portfolio</title>
    <link rel="stylesheet" href="../css/main.css">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <a href="/"> <i class="fa-solid fa-house"></i></a></i>
                <span>kirrer</span>
            </div>
            <ul class="nav-menu">
                <li><a href="#about">About</a></li>
                <li><a href="#skills">Skills</a></li>
                <li><a href="#projects">Projects</a></li>
                <li><a href="#contact">Contact me</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="about" class="hero-section reveal delay-200">
        <div class="container section-card">
            <div class="hero-grid">
                <div class="hero-content">
                    <span class="label">DEVELOPER PORTFOLIO</span>
                    <h1 class="hero-title reveal delay-300">Hi, I'm<br>Isaack<br>Muchoki.</h1>
                    <p class="hero-subtitle">Software Developer & Computer Science Student</p>
                    <p class="hero-description">
                        I am a Full-Stack Developer building scalable web applications with React and Laravel.
                        Currently finishing my degree at Kabarak University, I am open to roles where I can
                        contribute to production-grade software. I'm looking forward to working along side senior
                        developers to gain experience and create memorable products written in code that's
                        maintainable and easy to understand.
                    </p>
                    <div class="social-links reveal delay-300">
                        <a href="https://github.com/kirrer-izo" class="social-icon" aria-label="GitHub">
                            <i class="fa-brands fa-github"></i>
                        </a>
                        <a href="https://discord.com/invite/aJh572WK" class="social-icon" aria-label="Discord">
                            <i class="fa-brands fa-discord"></i>
                        </a>
                        <a href="mailto:isaackmuchoki55@gmail.com" class="social-icon" aria-label="Email">
                            <i class="fa-solid fa-envelope"></i>
                        </a>
                    </div>
                </div>
                <div class="hero-image reveal delay-300">
                    <img src="../assets/Profilepic.png" alt="Isaack Muchoki" class="simple-float-card">
                </div>
            </div>
        </div>
    </section>

    <!-- Skills Section -->
    <section id="skills" class="skills-section reveal hover-trigger delay-300">
        <div class="container section-card skills-container">
            <div class="skills-content">
                <span class="label">TECHNICAL EXPERTISE</span>
                <h2 class="section-title">My Skills</h2>
                <p class="section-description">
                    My core stack focuses on the php ecosystem and backend infrastructure. I specialize
                    in building full-stack applications with React and Laravel, managing data with MySQL,
                    and containerizing environments with Docker for consistent deployment.
                </p>
            </div>

            <div class="skills-grid reveal">
                <div class="skill-card">
                    <div class="skill-icon glow-float-card">
                        <i class="fa-brands fa-git-alt"></i>
                    </div>
                    <p class="skill-name">Git</p>
                </div>
                <div class="skill-card">
                    <div class="skill-icon glow-float-card">
                        <i class="fa-solid fa-code"></i>
                    </div>
                    <p class="skill-name">React</p>
                </div>
                <div class="skill-card">
                    <div class="skill-icon glow-float-card">
                        <i class="fa-brands fa-laravel"></i>
                    </div>
                    <p class="skill-name">Laravel</p>
                </div>
                <div class="skill-card">
                    <div class="skill-icon glow-float-card">
                        <i class="fa-solid fa-database"></i>
                    </div>
                    <p class="skill-name">MySQL</p>
                </div>
                <div class="skill-card">
                    <div class="skill-icon glow-float-card">
                        <i class="fa-brands fa-docker"></i>
                    </div>
                    <p class="skill-name">Docker</p>
                </div>
                <div class="skill-card">
                    <div class="skill-icon glow-float-card">
                        <i class="fa-brands fa-node-js"></i>
                    </div>
                    <p class="skill-name">Node.js</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Projects Section -->
    <section id="projects" class="projects-section reveal delay-500">
        <div class="container section-card">
            <span class="label">PORTFOLIO • FULL-STACK DEVELOPMENT</span>
            <h2 class="section-title">What I Have Worked On</h2>
            <p class="section-description">
                Take a look at some of the applications I've dedicated my time to.
            </p>

            <!-- Project 1: Live Your Books - EXPANDED -->
            <div class="project-card hover-trigger">
                <div class="project-image">
                    <div class="image-placeholder glow-float-card reveal delay-1">
                        <img src="../assets/Live Your Books Application Screenshot.png" alt="Live Your Books">
                    </div>
                </div>
                <div class="project-content">
                    <h3 class="project-title">Live Your Books</h3>
                    <p class="project-description">
                        Live Your Books aims to bridge the gap between passive reading and the meaningful,
                        real world application of knowledge. It leverages artificial intelligence to simulate
                        mentorship from renowned thinkers and authors, guiding users towards continuous
                        self-improvement.
                    </p>
                    <div class="tech-stack">
                        <span class="tech-tag">React</span>
                        <span class="tech-tag">Laravel</span>
                        <span class="tech-tag">OpenAI API</span>
                        <span class="tech-tag">Tailwind</span>
                    </div>
                    <div class="project-buttons">
                        <a href="/live-your-books" class="btn-primary">About Project</a>
                        <a href="https://github.com/kirrer-izo/LiveYourBooks" class="btn-secondary">
                            <i class="fa-brands fa-github"></i>
                            Source Code
                        </a>
                    </div>
                </div>
            </div>

            <!-- Project 2: Sole Proprietor CRM -->
            <div class="project-card hover-trigger">
                <div class="project-image">
                    <div class="image-placeholder glow-float-card reveal delay-1">
                        <img src="../assets/CRM Application screenshot.png" alt="Sole Proprietor CRM">
                    </div>
                </div>
                <div class="project-content">
                    <h3 class="project-title">Sole Proprietor CRM</h3>
                    <p class="project-description">
                        Collaborated in a team of three and built a customer relationship management web
                        application, designed for sole proprietors to manage leads and invoices.
                    </p>
                    <div class="tech-stack">
                        <span class="tech-tag">Laravel</span>
                        <span class="tech-tag">MySQL</span>
                        <span class="tech-tag">Tailwind</span>
                    </div>
                    <div class="project-buttons">
                        <a href="/sole-proprietor-crm" class="btn-primary">About Project</a>
                        <a href="https://github.com/Btsolo/CRM-Team-Project-" class="btn-secondary">
                            <i class="fa-brands fa-github"></i>
                            Source Code
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer id="contact" class="footer">
        <div class="container">
            <h3 class="footer-title">Building memorable digital experiences.</h3>
            <a href="mailto:isaackmuchoki55@gmail.com" class="footer-email">
                isaackmuchoki55@gmail.com
            </a>
            <div class="footer-social">
                <a href="#" class="social-icon" aria-label="GitHub">
                    <i class="fa-brands fa-github"></i>
                </a>
                <a href="#" class="social-icon" aria-label="LinkedIn">
                    <i class="fa-brands fa-linkedin-in"></i>
                </a>
                <a href="#" class="social-icon" aria-label="Twitter">
                    <i class="fa-brands fa-x-twitter"></i>
                </a>
            </div>
            <p class="footer-copyright">© 2024 Isaack Muchoki. Nairobi, Kenya</p>
        </div>
    </footer>

    
    <section class="contact-section">
        <div id="contactModal"  class="modal">
        <div class="modal-content reveal">
            <span class="close-btn">&times;</span>
            <h2 class="section-title">Get in Touch</h2>
            <form id="contactForm">
                <div class="form-group">
                    <input type="text" name="name" placeholder="Your Name" required>
                </div>
                <div class="form-group">
                    <input type="email" name="email" placeholder="Your Email" required>
                </div>
                <div class="form-group">
                    <textarea name="message" placeholder="Your Message" rows="5" required></textarea>
                </div>
                <button type="submit" class="btn-primary">Send Message</button>
            </form>
            <div id="formStatus"></div>
        </div>
    </div>
    </section>


    <script>

        if (history.scrollRestoration) {
            history.scrollRestoration = 'manual';
        }
        const sections = document.querySelectorAll("section[id]");
        const revealElements = document.querySelectorAll(".reveal");
        const navLinks = document.querySelectorAll(".nav-menu a");

        const observerOptions = {
            root: null,
            rootMargin: "0px",
            threshold: [0,0.4]
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {

                // Logic for Trigger Animations (Trigger at 10 % visibility)
                if (entry.target.classList.contains('reveal') && entry.isIntersecting) {
                    entry.target.classList.add('is-visible');

                    // ONLY Unobserve if it's NOT a section
                    if (entry.target.tagName !== 'SECTION') {
                        observer.unobserve(entry.target);
                    }
                }

                // Logic Update Navbar Links (Trigger at 40% visibility)

                if (entry.target.tagName === 'SECTION') {
                    const id = entry.target.getAttribute('id');
                    const link = document.querySelector(`.nav-menu a[href="#${id}"]`);
                    if (link) {
                        if (entry.intersectionRatio > 0.4) {
                        link.classList.add("active");
                    } else {
                        link.classList.remove("active");
                    }
                }
            }


            });
        }, observerOptions);

        // Observer to watch everything

        sections.forEach((section) => observer.observe(section));
        revealElements.forEach((el) => observer.observe(el));

        //  FETCH API

        const modal = document.getElementById("contactModal");
        const contactBtn = document.querySelector(".nav-menu a[href='#contact']");
        const closeBtn = document.querySelector(".close-btn");

        //Open Modal
        if (contactBtn) {
            contactBtn.onclick = (e) => {
                e.preventDefault();
                modal.style.display = "block";
            };
        }

        //Close Modal
        if (closeBtn) {
            closeBtn.onclick = () =>
            {
                modal.style.display = "none";
            };
        }

        // Close Modal on Outside Click
        window.onclick = (e) => {
            if (e.target === modal) {
                modal.style.display = "none";
            }
        };

        //Handle From Submission
        contactForm = document.getElementById("contactForm");
        if (contactForm) {
        contactForm.onsubmit = async (e) => {
            e.preventDefault();
            const formData = new FormData(e.target);
            const formStatus = document.getElementById("formStatus");
            const submitBtn = e.target.querySelector('button');

            // Reset state and show "Sending"
            submitBtn.disabled = true;
            formStatus.style.display = "block";
            formStatus.classList.remove('success', 'error');
            formStatus.innerHTML = "Sending Email...";

            try {
                const response = await fetch('/api/contact', {
                    method: 'POST',
                    body: formData
                });
                const result = await response.text();

                if (response.ok) {
                    //  Success State
                    formStatus.classList.add('success');
                    formStatus.innerHTML = "Message Sent Succesfully";
                    e.target.reset();

                    setTimeout(() => {
                        formStatus.style.display = "none";
                        formStatus.classList.remove("success");
                    }, 5000);
                } else {
                    // Server Error State
                    formStatus.classList.add('error');
                    formStatus.innerHTML =  result || "Oops! Something went wrong.";
                }
            } catch (error) {
                // Network Error State
                formStatus.classList.add('error');
                formStatus.innerHTML = "Error Sending Message."
            } finally {
                submitBtn.disabled = false;
            }
        };
        }




    </script>
</body>

</html>